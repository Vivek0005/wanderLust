<% layout('layouts/boilerplate') %>

<br />

<!-- <h3>All Listings</h3> -->

<!--  -->
  <div class="row ms-3">
    <div class="col-md-4 offset-md-8">
      <form id="sortForm" action="/listings" method="get" class="mb-3 d-flex align-items-center ">
        <label for="sortBy" class="me-2">Sort by:</label>
        <select name="sortBy" id="sortBy" class="form-select form-select-sm me-2" style="width: auto;">
          <option value="">None</option>
          <option value="price-asc">Price: Lowest</option>
          <option value="price-desc">Price: Highest</option>
          <option value="rating-asc">Rating: Lowest</option>
          <option value="rating-desc">Rating: Highest</option>
        </select>
        <button type="submit" class="btn no-border btn-sm" style="background-color: #ff385c;">Sort</button>
      </form>
    </div>
  </div>
<!--  -->

<hr />

<div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 row-cols-xs-1 mt-4">
  <% for(let lis of allListings) { %>
  <a class="listing-link" href="/listings/<%= lis._id %>">
    <div class="card listing-card1 col h-100 mb-5">
      <img
        src="<%=lis.image%>"
        class="card-img-top"
        alt="..."
        style="height: 20rem"
      />
      <div class="card-img-overlay"></div>
      <div class="card-body">
        <h6 class="card-title"><%= lis.title %></h6>
        <p class="card-text">
          &#8377;<%= lis.price.toLocaleString("en-IN")%> / night
        </p>
        <p class="card-text " style="margin-top: -10px;"><%=lis.location%></p>

      </div>
    </div>
  </a>
  <% } %>
</div>
