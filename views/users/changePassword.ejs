<% layout('layouts/boilerplate') %>

<div class="row col-6 offset-3 card mt-5">
  <h1 class="text-center mb-4 card-header">Change Password</h1>
  <form action="/users/<%= user._id %>/change-password" method="POST" novalidate class="needs-validation">
    <div class="mt-3 ms-5 me-5">
      <label for="oldPassword">Old Password:</label>
      <input type="password" id="oldPassword" name="oldPassword" class="form-control" required>
      <div class="invalid-feedback">Please enter your old password.</div>
    </div>
    <div class="mt-3 ms-5 me-5">
      <label for="newPassword">New Password:</label>
      <input type="password" id="newPassword" name="newPassword" class="form-control" required>
      <div class="invalid-feedback">Please enter a new password.</div>
    </div>
    <div class="mt-3 ms-5 me-5">
      <label for="confirmPassword" class="form-label">Confirm New Password:</label>
      <input type="password" id="confirmPassword" name="confirmPassword" class="form-control" required>
      <div class="invalid-feedback">Please confirm your new password.</div>
    </div>
    <div class="text-center mt-4 mb-3">
      <button type="submit" class="btn btn-dark">Change Password</button>
    </div>
  </form>
</div>

  <script>
    function validatePasswords() {
      const newPassword = document.getElementById('newPassword').value;
      const confirmPassword = document.getElementById('confirmPassword').value;
      
      if (newPassword !== confirmPassword) {
        alert('New passwords do not match. Please try again.');
        return false;
      }
      return true;
    }
  </script>
